# リリースノート - Version 0.6

2026/01/08

## Version 0.6

### 新機能

- **字間設定**
  - フォント設定メニューに字間スライダーを追加
  - 範囲: -0.15em ～ 0.2em（ステップ: 0.01）
  - 字間変更時に余白最適化も自動実行

- **新しいキーボードショートカット**
  - `↑` フォント拡大
  - `↓` フォント縮小
  - `W` ウェイト切替（細→中→太→細...）
  - `S` 検索フィールドにフォーカス

- **ホバーヒント（ツールチップ）**
  - 全てのボタンにホバー時のヒントを追加
  - ショートカットキーも併記（例: 「フルスクリーン (F)」）

### UI改善

- **モバイル対応強化**
  - 横スクロールを完全に抑制（`overflow-x: hidden`）
  - ダブルタップズームを阻止（`touch-action: manipulation`）

- **縦並びレイアウト時の余白最適化ボタン**
  - 縦並びでは機能しないため、グレーアウト表示に変更

- **横並び時のフォントサイズ統一**
  - 付随訳本のフォントサイズを主要訳本と同じ（1.1em）に統一

- **検索フィールド**
  - プレースホルダーを「検索(S)...」に変更してショートカットを明示

### アルゴリズム改善

- **余白最適化の改善**
  - 各訳本に必要幅を確保した上で、余白を等分配するアルゴリズムに変更
  - フォントサイズ変更時に自動で再最適化
  - 幅が足りない場合は必要幅の比率で配分（画面からはみ出さない）

- **中文2行統合の改善**
  - 統合すると折り返しが発生する場合は統合せず、元の1行ずつで表示
  - 利用可能幅を正確に計算（訳本数、gap、節番号幅を考慮）

### キーボードショートカット一覧（更新）

| キー | 機能 |
|------|------|
| ← | 前の詩歌 |
| → | 次の詩歌 |
| ↑ | フォント拡大 |
| ↓ | フォント縮小 |
| J | 歌訳の表示/非表示 |
| Z | 全訳の表示/非表示 |
| C | 中文の表示/非表示 |
| F | フルスクリーン |
| L | レイアウト切替 |
| O | 余白最適化 |
| W | ウェイト切替 |
| S | 検索 |
| Esc | サイドバー開閉 |


